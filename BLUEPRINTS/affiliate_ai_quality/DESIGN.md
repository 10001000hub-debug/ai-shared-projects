# affiliate_ai_quality / 概要
AI×アフィリエイト品質評価・自動生成の基盤。120点評価で 114 点以上を自動投稿。

## スコープ / 非スコープ
- スコープ: ASPリンク検証、品質評価、生成→評価→改善パイプライン、n8n連携  
- 非スコープ: ASP各社管理画面の UI 自動操作（当面）

## アーキテクチャ
- 入力: 下書き / 商品候補 / 既存記事  
- 処理: 生成 → 静的検査 → リンク検証 → 8軸120点評価 → 自動改善  
- 出力: 投稿用 Markdown/HTML + 監査レポート(JSON)

## モジュール
- product_picker: ASP データ→候補抽出（epc/cvr/ctr/新規性/返品率）
- content_generator: 生成テンプレ + 制約
- link_validator: a8 等リンク正当性・跳転監視
- quality_evaluator: 8軸 120 点
- orchestrator: n8n/CLI で段階実行

## プロンプト戦略
設計→実装→レビュー→監査を分離し、長文は分割 + 要約合成でコンテキスト節約

## 成功指標
ELITE(≥114) 自動投稿率、リンク無効率 <1%、実行時間中央値、失敗率

## リスク / 対策
API クォータ枯渇→フェイルオーバー(Gemini→Claude) + キャッシュ  
外部リンク変化→定期再検証 n8n ジョブ

## マイルストーン
- M1: 設計/ディレクトリ正規化（2025-08-10）
- M2: 監査→改善ループ MVP（2025-08-17）
- M3: 本番化（2025-08-24）

## 初動タスク（5 個）
1. PROJECT_MANIFEST.json を配置し全 AI 共有
2. /home/tkr/affiliate_ai_quality の README と構成を最新化
3. 監査スクリプトの入出力スキーマ固定（JSON Schema）
4. n8n フローを「生成→評価→改善」に再編（3 ノード列）
5. LOGS/CHANGELOG.md 運用開始